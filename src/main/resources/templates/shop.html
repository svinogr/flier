<div xmlns:th="http://www.thymeleaf.org" th:fragment="shop" class="container mt-4">
    <script> $(document).ready(function () {

        $('.updateimg').on('change', function () {
            var maxFileSize = 2 * 1024 * 1024; // (байт) Максимальный размер файла (2мб)
            var file = this.files[0];

            if (!file.type.match(/image\/(jpeg|jpg|png|gif)/)) {
                alert('Фотография должна быть в формате jpg, png или gif');
            }

            if (file.size > maxFileSize) {
                alert('Размер фотографии не должен превышать 2 Мб');
            }

            preview(file);

            this.value = '';
        });

        $(".deleteImg").click(function () {
            $("#com.svinogr.flier.img").attr('src', src = "/img/shop/0.png");
            file = null;
            var typeImg = $("#imgTypeAction");
            typeImg.attr('value', -1);

        });

        function preview(file) {
            var reader = new FileReader();
            reader.addEventListener('load', function (event) {
                $("#com.svinogr.flier.img").attr('src', event.target.result);
            });
            var typeImg = $("#imgTypeAction");
            typeImg.attr('value', 1);
            reader.readAsDataURL(file);
        }
    }); </script>

    <div class="col-9 ">
        <!-- <form class="" enctype="multipart/form-data" id="update" th:action="${shop.id}" method="post">

             <div class="row">
                 <div class="col-3">


                             <input class="file "  type="file" name="file" id="file">

                 </div>
             </div>
             <input class="btn btn-outline-primary form-control mt-4" type="submit" value="Сохранить">
             <input hidden="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
         </form>-->


        <div class="row">
            <div class="col-3">
                <div>
                    <img id="img" style="width:100%; height:250px" src="/img/shop/"
                         th:attrappend="src=${shop.img}">
                </div>


                    <form class="" enctype="multipart/form-data" id="update" th:action="${shop.id}" method="post">
                        <input class="1" type="file" name="file" id="file">
                        <!--    <div class="input-group-append">
                                <label class="btn btn-outline-success btn-block form-control mt-2" for="file">Выбрать
                                    картинку
                                <input class="updateimg" type="file" name="file" id="file">
                            <div class="form-group">-->

                        <br>
                        <div>
                            <button class="btn btn-outline-danger btn-block form-control deleteImg" type="button">
                                Удалить
                                картинку
                            </button>
                        </div>
            </div>

                <div class="col-9">
                    <div>

                    <input th:if="${admin}" class="form-control mt-3" th:value="${shop.id}"
                           type="text"
                           name="id" placeholder="id">
                    <input th:if="${admin}" class="form-control mt-3" th:value="${shop.userId}" type="text"
                           name="userId"
                           placeholder="userId">
                    <input class="form-control mt-3" th:value="${shop.title}" type="text" name="title"
                           placeholder="title">
                    <input class="form-control mt-3" th:value="${shop.description}" type="text"
                           placeholder="description" name="description">
                    </div>

                   <div class="input-group" th:if="${admin}">
                    <input class="form-control mt-3" th:value="${shop.address}" type="text"
                           placeholder="address"
                           name="address">
                    <input class="form-control mt-3" th:value="${shop.coordLat}" type="number"
                           placeholder="coordLat" name="coordLat">
                    <input class="form-control mt-3" th:value="${shop.coordLng}" type="number"
                           placeholder="coordLng" name="coordLng">
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary select" data-bs-toggle="modal"
                                data-bs-target="#exampleModal" type="button">Выбрать
                        </button>
                    </div>
                   </div>

                   <div class="input-group" th:unless="${admin}">
                    <input class="form-control mt-3" th:value="${shop.address}" type="text"
                           placeholder="address"
                           name="address" readonly="readonly">
                    <input class="form-control mt-3" th:value="${shop.coordLat}" type="number"
                           placeholder="coordLat" name="coordLat" readonly="readonly">
                    <input class="form-control mt-3" th:value="${shop.coordLng}" type="number"
                           placeholder="coordLng" name="coordLng" readonly="readonly">
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary select" data-bs-toggle="modal"
                                data-bs-target="#exampleModal" type="button">Выбрать
                        </button>
                    </div>
                   </div>
                   <div>
                    <input class="form-control mt-3" th:value="${shop.status}" type="text" placeholder="status"
                           name="status">
                    <input class="form-control mt-3" value="0" type="text" placeholder="imgAction"
                           name="imgTypeAction" id="imgTypeAction">
                    <input class="form-control mt-3" th:value="${shop.img}" type="text"
                           placeholder="com.svinogr.flier.img"
                           name="img">
                    <input class="form-control mt-3" th:value="${shop.url}" type="text" placeholder="url"
                           name="url">
                    <input class="btn btn-outline-primary form-control mt-4" type="submit" value="Сохранить">
                    <input hidden="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                    </div>
                    </form>
                    <div>
                        <form class="" id="update" action="del/" th:attrappend="action=${shop.id}" method="get">
                            <input hidden="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                            <input th:if="${shop.id} != null" type="submit"
                                   class="btn btn-outline-danger form-control mt-4"
                                   value="Удалить">
                        </form>
                    </div>
            </div>



        </div>

    </div>
</div>
</div>
</div>

